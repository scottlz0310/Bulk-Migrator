1. **test/compare_filelist_vs_onedrive.py**  
　- 生成されたファイルリスト（JSON）と、OneDrive上の実際のパス構造を比較  
　- パスの階層・表記・エンコードの不一致を検出

2. **test/compare_filelist_vs_log.py**  
　- ファイルリストと転送ログ（成功・失敗）を突き合わせ  
　- どのパスで404や他エラーが発生したかを抽出

3. **test/onedrive_path_encoding.py**  
　- 特殊文字・全角・スペース・記号を含むパスのエンコードテスト

4. **test/generate_filelist_snapshot.py**  
　- 任意の段階でファイルリスト（パス・サイズ・更新日時）をスナップショット保存  
　- 比較用のJSONを自動生成



---

# 現状の修正・検証サイクルにおける「おすすめテスト手順」は以下の通り

### 1. ログファイルのクリア
古いエラーや重複データを避けるため、まずログを空にします。
```bash
> logs/transfer.log
```
または
```bash
echo "" > logs/transfer.log
```

---

### 2. OneDriveファイルリストの再生成
進捗表示付きでファイルリストを再生成します。
```bash
python tests/generate_onedrive_filelist.py
```
onedrive_transfer_targets.json が新しくなります。

---

### 3. 転送バッチの実行
本番バッチ（例: `python -m src.main`）を実行し、ログを新規に記録します。

---

### 4. ログ・ファイルリストの突き合わせテスト
```bash
python tests/compare_filelist_vs_log.py
```
で、ファイルごとのログ出現・エラー状況を一覧化します。

---

### 5. 特定ファイルのパス生成・ログ分析
パス生成ロジックの検証には
```bash
python tests/analyze_single_file_log.py "ファイル名の一部"
```
で、パスのバリエーションやAPIリクエストの傾向を確認します。

---

この流れで「パス生成の不具合」や「進捗・エラー状況」を効率的に検証できます。  
必要に応じて、各段階で生成されたファイルやログを保存・比較しておくと、後からの分析も容易です。